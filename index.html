<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untuk Cintaku di Hari Spesialmu ‚ù§Ô∏è</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Open+Sans:ital,wght@0,400;0,700;1,400&family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="heart-bg"></div>
    <audio id="backgroundMusic" loop>
        Maaf, browser Anda tidak mendukung elemen audio.
    </audio>

    <button class="music-toggle" id="musicToggle">
        üé∂
    </button>

    <div class="container">
        <div id="initial-state">
            <h1>Selamat Ulang Tahun  Yang Ke 21Tahun Sayaanggggg, Cintaku!</h1>
            <p>Sebuah pesan spesial untukmu di hari istimewa ini.</p>
            <div class="input-area">
                <input type="text" id="partnerNameInput" placeholder="Masukin Nama Kamu Yaaaa Sayaanggggg....">
                <button onclick="revealMessage()">Buka Pesan Spesial</button>
            </div>
        </div>

        <div id="revealed-message" style="display:none;">
            <h1 id="main-title">Selamat Ulang Tahun</h1>
            <h2 id="recipientName"></h2>
            <div class="message-section">
                <p>Sayangku,</p>
                <p>Di hari yang spesial ini, setiap bintang di langit seolah ikut merayakan hadirmu di dunia. Kamu adalah anugerah terindah yang pernah Tuhan kirimkan dalam hidupku. Terima kasih telah mengisi hari-hariku dengan tawa, cinta, dan kehangatan yang tak tergantikan.</p>
                <p>Setiap momen bersamamu adalah pelajaran berharga tentang cinta sejati, kesabaran, dan kebahagiaan yang sederhana. Aku berjanji akan selalu ada di sampingmu, melewati suka dan duka, merayakan setiap keberhasilanmu, dan memelukmu erat saat dunia terasa berat.</p>
                <p>Semoga di usiamu yang baru ini, kamu semakin diberkahi kebahagiaan, kesehatan, kesuksesan, dan semua impianmu dapat terwujud. Teruslah menjadi dirimu yang luar biasa, dengan hati selembut sutra dan semangat sekuat baja.</p>
                <p>Aku mencintaimu lebih dari kata-kata bisa ungkapkan. Selamanya dan selalu.</p>
            </div>
            <p class="signature" id="senderSignature"></p>
        </div>
    </div>

    <script>
        const backgroundMusic = document.getElementById('backgroundMusic');
        const musicToggle = document.getElementById('musicToggle');
        let isPlaying = false;

        // Auto-play music with interaction (for browser policy)
        function playMusic() {
            if (backgroundMusic.paused) {
                backgroundMusic.play().then(() => {
                    isPlaying = true;
                    musicToggle.innerText = '‚è∏Ô∏è'; // Icon pause
                }).catch(error => {
                    console.error("Autoplay prevented:", error);
                    musicToggle.innerText = '‚ñ∂Ô∏è'; // Icon play if prevented
                });
            }
        }

        musicToggle.addEventListener('click', () => {
            if (isPlaying) {
                backgroundMusic.pause();
                musicToggle.innerText = '‚ñ∂Ô∏è'; // Icon play
            } else {
                playMusic();
            }
            isPlaying = !isPlaying;
        });

        // Trigger music play on first interaction (e.g., clicking the button)
        document.querySelector('.input-area button').addEventListener('click', playMusic);


        function revealMessage() {
            const partnerName = document.getElementById('partnerNameInput').value.trim();
            const initialState = document.getElementById('initial-state');
            const revealedMessage = document.getElementById('revealed-message');
            const recipientName = document.getElementById('recipientName');
            const senderSignature = document.getElementById('senderSignature');
            const messageParagraphs = document.querySelectorAll('.message-section p');

            if (partnerName === "") {
                alert("Tolong masukkan nama kesayanganmu dulu ya!");
                return;
            }

            // Set the recipient's name
            recipientName.innerText = `Untuk ${partnerName}, Cintaku ‚ù§Ô∏è`;
            senderSignature.innerText = `Dari Kekasihmu, REZA ARYANDI`; // Ganti dengan nama Anda

            initialState.style.display = 'none';
            revealedMessage.style.display = 'block';

            // Start heart particles effect
            createHeartParticles();
        }

        function createHeartParticles() {
            const numHearts = 15; // Jumlah hati yang muncul
            for (let i = 0; i < numHearts; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart-particle');
                const size = Math.random() * 20 + 10; // Ukuran hati
                heart.style.width = `${size}px`;
                heart.style.height = `${size}px`;
                heart.style.left = `${Math.random() * 100}vw`; // Posisi horizontal acak
                heart.style.bottom = `${-size}px`; // Mulai dari bawah layar

                // Variabel CSS untuk animasi akhir
                heart.style.setProperty('--x-end', `${(Math.random() - 0.5) * 200}px`); // Bergerak ke kiri/kanan
                heart.style.setProperty('--y-end', `-${window.innerHeight + size}px`); // Bergerak ke atas
                heart.style.animationDuration = `${Math.random() * 4 + 3}s`; // Durasi animasi
                heart.style.animationDelay = `${Math.random() * 0.5}s`; // Delay untuk efek berurutan

                document.body.appendChild(heart);

                // Hapus hati setelah animasi selesai
                heart.addEventListener('animationend', () => {
                    heart.remove();
                });
            }
        }

        // Trigger particles after messages are revealed
        // This is a simple way, for more precise timing, you might use an Intersection Observer
        setTimeout(createHeartParticles, 7000); // Trigger after ~7 seconds (adjust based on message animation delays)

    </script>
</body>

</html>
